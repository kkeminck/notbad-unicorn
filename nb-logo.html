<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>NB Logo — Unicorn</title>

  <!-- Unicorn runtime -->
  <script src="https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v1.4.30/dist/unicornStudio.umd.js"></script>

  <style>
    html, body { height: 100%; margin: 0; background: transparent; }
    #host { position: fixed; inset: 0; overflow: hidden; }
    #host > canvas, #host > * { position: absolute; inset: 0; }
    /* optional: pointer shows as normal */
    body, #host { cursor: auto; }
  </style>
</head>
<body>
  <div id="host" aria-label="Animated notbad logo"></div>

  <script>
    (function(){
      const FILE_URL = "./nb-logo.json"; // same folder as this HTML
      function ready(cb){ (window.UnicornStudio && UnicornStudio.addScene) ? cb() : requestAnimationFrame(()=>ready(cb)); }
      function dpi(){ return Math.min(3, Math.max(1, window.devicePixelRatio || 1)); }

      let scene = null;
      ready(async () => {
        scene = await UnicornStudio.addScene({
          elementId: "host",
          filePath: FILE_URL,
          fps: 60,
          scale: 1,
          dpi: dpi(),
          lazyLoad: false,
          altText: "notbad — logo animation",
          ariaLabel: "Animated notbad logo",
          interactivity: { mouse: { disableMobile: false, disabled: false } }
        });
        requestAnimationFrame(()=>{ try { scene.resize(); } catch(e){} });
        window.addEventListener("resize", ()=>{ try { scene.resize(); } catch(e){} });
      });

      // keep crisp across DPI changes (zoom/retina)
      let last = window.devicePixelRatio || 1;
      setInterval(()=>{ const d = window.devicePixelRatio || 1;
        if (Math.abs(d - last) > 0.01){ last = d; try{ scene?.destroy?.(); }catch{}; scene=null; ready(async ()=>{
          scene = await UnicornStudio.addScene({ elementId:"host", filePath: FILE_URL, fps:60, scale:1, dpi:d, lazyLoad:false });
          requestAnimationFrame(()=>{ try { scene.resize(); } catch(e){} });
        }); }
      }, 600);
    })();
  </script>
</body>
</html>
